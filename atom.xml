<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>阿Ben的网络日志</title>
  
  <subtitle>记录我的学习笔记与生活感想</subtitle>
  <link href="https://benlogs.com/atom.xml" rel="self"/>
  
  <link href="https://benlogs.com/"/>
  <updated>2022-10-26T07:16:17.098Z</updated>
  <id>https://benlogs.com/</id>
  
  <author>
    <name>Ben</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Airpods Pro2缺点(拔草测试)</title>
    <link href="https://benlogs.com/2022/1026/airpodspro2/"/>
    <id>https://benlogs.com/2022/1026/airpodspro2/</id>
    <published>2022-10-26T04:30:00.000Z</published>
    <updated>2022-10-26T07:16:17.098Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Airpods-Pro2缺点-拔草测试"><a href="#Airpods-Pro2缺点-拔草测试" class="headerlink" title="Airpods Pro2缺点(拔草测试)"></a>Airpods Pro2缺点(拔草测试)</h1><h3 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h3><p>​主动降噪技术，也叫有源降噪，是利用麦克风采样环境噪声，经过数据处理后发出与噪声相位相反的声波来抵消噪声。主动降噪技术采用的是声波叠加抵消原理。基于这一原理，首先必须通过传声器采集周围环境的噪声信号，因此我们在使用有源降噪耳机时，会发现机身处有一到两个小孔，这两个小孔的位置就是采集传声器的位置。主动降噪耳机目前有非常多的技术和不同的算法，来实现更加精确的降噪功能，例如闭环路系统、开环路系统、自适应主动降噪耳机系统等。</p><p><img src="https://benlogs.com/imgesupload/img/image-20221026095916116.png" class="lazyload" data-srcset="https://benlogs.com/imgesupload/img/image-20221026095916116.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><p>听觉范围：人能够听到纵波频率在20Hz~20000Hz之间的声音，引起人类听觉的声波，不仅有频率范围，而且有声强范围，声强级别一般用分贝（dB）表示。</p><p><img src="https://raw.githubusercontent.com/hokbam/imgesupload/main/img/image-20221026102801457.png" class="lazyload" data-srcset="https://raw.githubusercontent.com/hokbam/imgesupload/main/img/image-20221026102801457.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20221026102801457"></p><p><strong>波的叠加原理示意：</strong>声波还遵循波的叠加原理。在几列波相遇的区域内，任一处的质点元的振动为各列波单独在该点引起的振动之和，这一规律便是波的叠加原理。但是，波的叠加原理只有在波的强度不太大的时候才成立。</p><p><img src="https://raw.githubusercontent.com/hokbam/imgesupload/main/img/1168297224583399972.gif" class="lazyload" data-srcset="https://raw.githubusercontent.com/hokbam/imgesupload/main/img/1168297224583399972.gif" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><blockquote><p>以上内容出处：<a href="https://m.gmw.cn/baijia/2020-12/13/1301935967.html">https://m.gmw.cn/baijia/2020-12/13/1301935967.html</a></p></blockquote><h3 id="1、优点"><a href="#1、优点" class="headerlink" title="1、优点"></a>1、优点</h3><h4 id="1-1、主动降噪：你的世界只剩下音乐，就像配了个背景音"><a href="#1-1、主动降噪：你的世界只剩下音乐，就像配了个背景音" class="headerlink" title="1.1、主动降噪：你的世界只剩下音乐，就像配了个背景音"></a>1.1、主动降噪：你的世界只剩下音乐，就像配了个背景音</h4><p>大多数场景下，降噪效果确实做很好。只开降噪的情况下，你就像被关到了一个隔音的小黑屋里，只听到自己的耳噪。本人最佳的应用场景：边做饭连听新闻，隔绝掉抽油烟机的噪声，不需要将声音调得很大以压制噪声。</p><h4 id="1-2、通透模式：你的世界中加了一个音乐"><a href="#1-2、通透模式：你的世界中加了一个音乐" class="headerlink" title="1.2、通透模式：你的世界中加了一个音乐"></a>1.2、通透模式：你的世界中加了一个音乐</h4><p>通透模式有两种：开启自定义通透、关闭自定义通透。</p><p><strong>完全通透模式</strong>，就像没有戴耳机的感觉差不多。</p><p><strong>自定通透模式</strong>可以设置降低环境噪声、对话增强等设置，也就是在完全通透模式下、降低了其他环境噪声，又确保能够听到人声。</p><h4 id="1-3、空间化立体声"><a href="#1-3、空间化立体声" class="headerlink" title="1.3、空间化立体声"></a>1.3、空间化立体声</h4><p>把声音模拟得更加立体化，不止是传统的左右立体声。带追踪的空间音频，音频会随着你的头部转动而改变，让你有种这样的怀疑：“耳机是不是没连好、是不是扬声器的声音？”。</p><h4 id="1-4、苹果生态下的便利"><a href="#1-4、苹果生态下的便利" class="headerlink" title="1.4、苹果生态下的便利"></a>1.4、苹果生态下的便利</h4><p>本人手头上有Macbook、iPhone、iPad、AppleTv，在登陆同一个Apple ID的情况下，可以做到无缝切换。</p><p><strong>一般音频：</strong>比如在iPad看电影，此时你拿iPhone刷视频，AirPods的声音可以马上切换到手机声音。手机音频退出后又马上切换回iPad声音。</p><p><strong>来电通话：</strong>如果突然音有电话来但你没戴耳机，此时你拿起耳机住耳朵一塞，就可以快速地用耳机来通话。如果你正在用使用MacBook工作并听音乐，接通突然的来电，AirPods可以快速地切换到手机通话声音（但是通常会有一些延迟）。</p><p><strong>AppleTv看片</strong>：打开AirPods，电视右上角马上提示“是否连接AirPods”，只需遥控按一下就可以很快速地连接。</p><h3 id="2、缺点"><a href="#2、缺点" class="headerlink" title="2、缺点"></a>2、缺点</h3><h4 id="1-1、主动降噪对耳朵的影响"><a href="#1-1、主动降噪对耳朵的影响" class="headerlink" title="1.1、主动降噪对耳朵的影响"></a>1.1、主动降噪对耳朵的影响</h4><p><strong>1）声音幽闭恐惧症</strong></p><p>如上所说，开启降噪后会隔绝外部大部份声音。我们日常生活中无论多安静，还是会有一定的低频率噪声，而人的大脑习惯了处理这种噪声所以不会觉得有什么影响。而主动降噪将所有声音隔绝掉，但对于频率小于20Hz的次声波并没有处理，通常情况下一般人耳感受不到不过大自然和工业生产几乎到处都有次声波声源，这些次声波平时混在声音中对人是没有影响的。但是主动降噪耳机并不产生次声波，基于人耳对声音的掩盖效应。当降噪耳机帮我们处理掉绝大部分的声音后，平时隐藏了气息的次声波就成为了主角，对于次声波敏感的人可能就会产生相应的生理反应了。所以在配戴主动降噪耳机时，尽量让耳机处于播放音乐和其他音频的状态，让大脑忙于处理其他频率的声音，重新掩盖次声波带来的影响，等到不用的时候就脱下来。</p><blockquote><p>参考了：<a href="https://www.zhihu.com/question/20948066/answer/1759960902">https://www.zhihu.com/question/20948066/answer/1759960902</a></p></blockquote><p><strong>2）降噪的时延与不衡</strong></p><p><strong>时延：</strong>主动降噪就是实时监听外部噪音，并产生相反的声音进行抵冲，在这个过程中会有一定的延迟。比如突然有个新的噪音，你明显听得到噪音由大变小的降噪过程（类似敲击钢铁的“Biu~~“声）。</p><p><strong>不均衡：</strong>两只耳机收到的背景噪音音量不一致，导致降噪失衡（也就是会有一耳机听到的噪音明显）。</p><p><img src="https://raw.githubusercontent.com/hokbam/imgesupload/main/img/image-20221026114105417.png" class="lazyload" data-srcset="https://raw.githubusercontent.com/hokbam/imgesupload/main/img/image-20221026114105417.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20221026114105417"></p><h3 id="1-2、主动降噪对生活的影响"><a href="#1-2、主动降噪对生活的影响" class="headerlink" title="1.2、主动降噪对生活的影响"></a>1.2、主动降噪对生活的影响</h3><p><strong>1）像个有耳疾的老人，对外界的反应迟钝：你老婆想揍你</strong></p><p>开启了降噪模式，就像用手指堵住耳朵一样&#x2F;或者你是听力受损的老人，听不到旁人说什么。当你老婆跟你说话你听不到，就算隐约听到再切换成通透模式，再问一句“你说什么？”，此时你老婆估计只想揍你一顿。</p><p><strong>2）行走在路上不建议开启降噪</strong></p><p>由于听不到周围的环境声音，可能令你对潜在的危险无法做出及时的反应。</p><h3 id="3、通透模式"><a href="#3、通透模式" class="headerlink" title="3、通透模式"></a>3、通透模式</h3><p><strong>1）完全通透模式</strong></p><p>如果光说通透为了听清楚环境声，这个模式倒没什么大问题。只是你会下意识地用力听清音乐，可能这也是一种对耳朵的损伤。</p><p><strong>2）降噪通透模式</strong></p><p>也就是自定通透模式，会将低频的环境噪音抵消掉，只留人声的那一部分频率，会让你有种在透过水管听人说话的感觉。与此同时，与人声类似频率的场波也会一起被放大，会让你很不爽。</p><h3 id="4、撑大你的耳洞"><a href="#4、撑大你的耳洞" class="headerlink" title="4、撑大你的耳洞"></a>4、撑大你的耳洞</h3><p>入耳式耳机，需要紧贴耳孔，特别是左右降噪不均衡的情况下，你会下意识地压得更紧。久而久之你的耳朵会变得很大。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;Airpods-Pro2缺点-拔草测试&quot;&gt;&lt;a href=&quot;#Airpods-Pro2缺点-拔草测试&quot; class=&quot;headerlink&quot; title=&quot;Airpods Pro2缺点(拔草测试)&quot;&gt;&lt;/a&gt;Airpods Pro2缺点(拔草测试)&lt;/h1&gt;&lt;h3</summary>
      
    
    
    
    <category term="数码" scheme="https://benlogs.com/categories/%E6%95%B0%E7%A0%81/"/>
    
    
    <category term="AirpodsPro2" scheme="https://benlogs.com/tags/AirpodsPro2/"/>
    
    <category term="主动降噪" scheme="https://benlogs.com/tags/%E4%B8%BB%E5%8A%A8%E9%99%8D%E5%99%AA/"/>
    
  </entry>
  
  <entry>
    <title>元素周期表中英对照</title>
    <link href="https://benlogs.com/2022/1017/%E6%97%A0%E7%B4%A0%E5%91%A8%E6%9C%9F%E8%A1%A8%E4%B8%AD%E8%8B%B1%E5%AF%B9%E7%85%A7/"/>
    <id>https://benlogs.com/2022/1017/%E6%97%A0%E7%B4%A0%E5%91%A8%E6%9C%9F%E8%A1%A8%E4%B8%AD%E8%8B%B1%E5%AF%B9%E7%85%A7/</id>
    <published>2022-10-17T02:30:00.000Z</published>
    <updated>2022-10-17T02:11:37.306Z</updated>
    
    <content type="html"><![CDATA[<h1 id="元素周期表中英对照（Periodic-Table-of-the-Elements）"><a href="#元素周期表中英对照（Periodic-Table-of-the-Elements）" class="headerlink" title="元素周期表中英对照（Periodic Table of the Elements）"></a>元素周期表中英对照（Periodic Table of the Elements）</h1><p><img src="https://benlogs.com/imgesupload/img/IUPAC_Periodic_Table_150-04May22.jpg" class="lazyload" data-srcset="https://benlogs.com/imgesupload/img/IUPAC_Periodic_Table_150-04May22.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="IUPAC_Periodic_Table_150-04May22"></p><p><img src="https://benlogs.com/imgesupload/img/Periodic_table_zh-hans.svg" class="lazyload" data-srcset="https://benlogs.com/imgesupload/img/Periodic_table_zh-hans.svg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Periodic_table_zh-hans"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;元素周期表中英对照（Periodic-Table-of-the-Elements）&quot;&gt;&lt;a href=&quot;#元素周期表中英对照（Periodic-Table-of-the-Elements）&quot; class=&quot;headerlink&quot; title=&quot;元素周期表中英对照（</summary>
      
    
    
    
    <category term="English" scheme="https://benlogs.com/categories/English/"/>
    
    
    <category term="gcc" scheme="https://benlogs.com/tags/gcc/"/>
    
    <category term="ssh" scheme="https://benlogs.com/tags/ssh/"/>
    
    <category term="ssl" scheme="https://benlogs.com/tags/ssl/"/>
    
  </entry>
  
  <entry>
    <title>linux中使用命令来管理虚拟机（vbox, VBoxManage）</title>
    <link href="https://benlogs.com/2022/0922/vboxmanage%E4%BD%BF%E7%94%A8/"/>
    <id>https://benlogs.com/2022/0922/vboxmanage%E4%BD%BF%E7%94%A8/</id>
    <published>2022-09-22T10:30:00.000Z</published>
    <updated>2022-09-22T09:24:32.136Z</updated>
    
    <content type="html"><![CDATA[<h1 id="linux中使用命令来管理虚拟机（vbox-VBoxManage）"><a href="#linux中使用命令来管理虚拟机（vbox-VBoxManage）" class="headerlink" title="linux中使用命令来管理虚拟机（vbox, VBoxManage）"></a>linux中使用命令来管理虚拟机（vbox, VBoxManage）</h1><h2 id="一、典型操作"><a href="#一、典型操作" class="headerlink" title="一、典型操作"></a><strong>一、典型操作</strong></h2><h3 id="1-创建虚拟机"><a href="#1-创建虚拟机" class="headerlink" title="1.创建虚拟机"></a><strong>1.创建虚拟机</strong></h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">VBoxManage createvm --name Windows2016 --ostype “Windows2016_64” --register</span><br></pre></td></tr></table></figure><h3 id="2-添加Sata驱动器"><a href="#2-添加Sata驱动器" class="headerlink" title="2.添加Sata驱动器"></a><strong>2.添加Sata驱动器</strong></h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">VBoxManage storagectl Windows2016 --name &quot;SATA Controller&quot; --add sata --controller IntelAHCI</span><br></pre></td></tr></table></figure><h3 id="3-创建虚拟磁盘"><a href="#3-创建虚拟磁盘" class="headerlink" title="3.创建虚拟磁盘"></a><strong>3.创建虚拟磁盘</strong></h3><p>102400MB（100G）</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">VBoxManage createhd --filename win16.vdi --size 204800</span><br></pre></td></tr></table></figure><h3 id="4-将虚拟磁盘绑定到驱动器"><a href="#4-将虚拟磁盘绑定到驱动器" class="headerlink" title="4.将虚拟磁盘绑定到驱动器"></a><strong>4.将虚拟磁盘绑定到驱动器</strong></h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">VBoxManage storageattach Windows2016 --storagectl &quot;SATA Controller&quot; --port 0 --device 0 --type hdd --medium win16.vdi</span><br></pre></td></tr></table></figure><h3 id="5-创建IDE驱动器"><a href="#5-创建IDE驱动器" class="headerlink" title="5.创建IDE驱动器"></a><strong>5.创建IDE驱动器</strong></h3><p>（即CD）</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">VBoxManage storagectl Windows2016 --name &quot;IDE Controller&quot; --add ide</span><br></pre></td></tr></table></figure><h3 id="6-加载ISO镜像"><a href="#6-加载ISO镜像" class="headerlink" title="6.加载ISO镜像"></a><strong>6.加载ISO镜像</strong></h3><p>（用于安装系统）</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">VBoxManage storageattach Windows2016 --storagectl &quot;IDE Controller&quot; --port 0 --device 0 --type dvddrive --medium /home/vms/cn_windows_server_2016.iso</span><br></pre></td></tr></table></figure><h3 id="7-设置启动顺序"><a href="#7-设置启动顺序" class="headerlink" title="7.设置启动顺序"></a><strong>7.设置启动顺序</strong></h3><p>（DVD优先）</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">VBoxManage modifyvm Windows2016 --boot1 dvd --boot2 disk --boot3 none --boot4 none</span><br></pre></td></tr></table></figure><h3 id="8-修改内存"><a href="#8-修改内存" class="headerlink" title="8.修改内存"></a><strong>8.修改内存</strong></h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">VBoxManage modifyvm Windows2016 --memory 8192</span><br></pre></td></tr></table></figure><h3 id="9-修改虚拟显存"><a href="#9-修改虚拟显存" class="headerlink" title="9.修改虚拟显存"></a><strong>9.修改虚拟显存</strong></h3><p>（默认8M，可以不改）</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">VBoxManage modifyvm Windows2016 --vram 128</span><br></pre></td></tr></table></figure><h3 id="10-修改CPU数量"><a href="#10-修改CPU数量" class="headerlink" title="10.修改CPU数量"></a><strong>10.修改CPU数量</strong></h3><p>（默认1，可以不改）</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vboxmanage modifyvm Windows2019 --cpus 4</span><br></pre></td></tr></table></figure><h3 id="11-设置Nat网络"><a href="#11-设置Nat网络" class="headerlink" title="11.设置Nat网络"></a><strong>11.设置Nat网络</strong></h3><p>（不占用主机所在路由器IP，通过端口转发的方式访问虚拟机）</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">VBoxManage modifyvm Windows2016 --nic1 nat</span><br></pre></td></tr></table></figure><h3 id="12-开启VRDE"><a href="#12-开启VRDE" class="headerlink" title="12.开启VRDE"></a><strong>12.开启VRDE</strong></h3><p>用远程桌面安装系统等操作，类似维护端口。此功能需要先安装vbox的增强包</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">VBoxManage modifyvm Windows2016 --vrde on --vrdeport 3391</span><br></pre></td></tr></table></figure><h3 id="13-后台运行虚拟机"><a href="#13-后台运行虚拟机" class="headerlink" title="13.后台运行虚拟机"></a><strong>13.后台运行虚拟机</strong></h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vboxmanage startvm Windows2016 --type headless</span><br></pre></td></tr></table></figure><h2 id="二、其他操作"><a href="#二、其他操作" class="headerlink" title="二、其他操作"></a><strong>二、其他操作</strong></h2><h3 id="1-关闭虚拟机"><a href="#1-关闭虚拟机" class="headerlink" title="1.关闭虚拟机"></a><strong>1.关闭虚拟机</strong></h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">VBoxManage controlvm “Windows2016 poweroff</span><br></pre></td></tr></table></figure><h3 id="2-卸载DVD中的ISO镜像"><a href="#2-卸载DVD中的ISO镜像" class="headerlink" title="2.卸载DVD中的ISO镜像"></a><strong>2.卸载DVD中的ISO镜像</strong></h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">VBoxManage storageattach Windows2016 --storagectl “IDE Controller” --port 0 --device 0 --type dvddrive --medium none</span><br></pre></td></tr></table></figure><h3 id="3-添加桥接网络"><a href="#3-添加桥接网络" class="headerlink" title="3.添加桥接网络"></a><strong>3.添加桥接网络</strong></h3><p>说明：与主路由器同级的IP，一般NAT与桥接两种方式二选一。其中nic2即为第2张网卡的意思。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">VBoxManage modifyvm “Win19” --nic2 bridged --nictype2 82545EM --cableconnected2 on --bridgeadapter2 em1</span><br></pre></td></tr></table></figure><h3 id="4-NAT转发3389端口到虚拟机"><a href="#4-NAT转发3389端口到虚拟机" class="headerlink" title="4.NAT转发3389端口到虚拟机"></a><strong>4.NAT转发3389端口到虚拟机</strong></h3><p>自命名为”yuancheng”</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">VBoxManage modifyvm Windows2019 --natpf1 “yuancheng,tcp,,3389,,3389”</span><br></pre></td></tr></table></figure><h3 id="5-删除名称为”yuancheng”的NAT转发规则"><a href="#5-删除名称为”yuancheng”的NAT转发规则" class="headerlink" title="5.删除名称为”yuancheng”的NAT转发规则"></a><strong>5.删除名称为”yuancheng”的NAT转发规则</strong></h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">VBoxManage modifyvm ” Windows2016″ --natpf1 delete “yuancheng”</span><br></pre></td></tr></table></figure><h3 id="6-解绑vdi"><a href="#6-解绑vdi" class="headerlink" title="6.解绑vdi"></a><strong>6.解绑vdi</strong></h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">VBoxManage storageattach Windows2016 --storagectl “SATA Controller” --port 0 --device 0 --type hdd --medium none</span><br></pre></td></tr></table></figure><h3 id="7-重新生成uuid"><a href="#7-重新生成uuid" class="headerlink" title="7.重新生成uuid"></a><strong>7.重新生成uuid</strong></h3><p>（在移动、复制vdi之后）</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vboxmanage internalcommands sethduuid /home/vms/win16.vdi</span><br></pre></td></tr></table></figure><h3 id="8-创建快照"><a href="#8-创建快照" class="headerlink" title="8.创建快照"></a><strong>8.创建快照</strong></h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">VBoxManage snapshot Windows2016 take “kuaizhao20210309”</span><br></pre></td></tr></table></figure><h3 id="9-还原快照"><a href="#9-还原快照" class="headerlink" title="9.还原快照"></a><strong>9.还原快照</strong></h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">VBoxManage snapshot Windows2016 restore kuaizhao20210309</span><br></pre></td></tr></table></figure><h3 id="10-克隆虚拟机"><a href="#10-克隆虚拟机" class="headerlink" title="10.克隆虚拟机"></a><strong>10.克隆虚拟机</strong></h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">VBoxManage clonevm ” Windows2016″ --name=” Windows2016_2″ --basefolder=/data01/vms/vdi --register</span><br></pre></td></tr></table></figure><h3 id="11-导出虚拟机"><a href="#11-导出虚拟机" class="headerlink" title="11.导出虚拟机"></a><strong>11.导出虚拟机</strong></h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vboxmanage export ” Windows2016″ -o /home/vms/win16.ovf</span><br></pre></td></tr></table></figure><h3 id="12-导入虚拟机"><a href="#12-导入虚拟机" class="headerlink" title="12.导入虚拟机"></a><strong>12.导入虚拟机</strong></h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">校验</span></span><br><span class="line">vboxmanage import Windows2016.ovf --dry-run</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">导入</span></span><br><span class="line">vboxmanage import Windows2016.ovf --vsys 0 --vmname centos8_zabbix</span><br></pre></td></tr></table></figure><h3 id="13-修改磁盘大小"><a href="#13-修改磁盘大小" class="headerlink" title="13.修改磁盘大小"></a><strong>13.修改磁盘大小</strong></h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vboxmanage modifyhd cb73a594-6b0a-4321-915d-97a3ac3ae38a --resize 256000</span><br></pre></td></tr></table></figure><h3 id="14-关闭时间同步"><a href="#14-关闭时间同步" class="headerlink" title="14.关闭时间同步"></a><strong>14.关闭时间同步</strong></h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">方案1（开启则设为0）</span></span><br><span class="line">VBoxManage setextradata centos77_djc “VBoxInternal/Devices/VMMDev/0/Config/GetHostTimeDisabled” “1”</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">方案1：</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">关闭时间同步：</span></span><br><span class="line">vboxmanage guestproperty set &lt;虚拟机名/虚拟机UUID&gt; --timesync-set-stop</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">打开时间同步：</span></span><br><span class="line">vboxmanage guestproperty set &lt;虚拟机名/虚拟机UUID&gt; --timesync-set-start</span><br></pre></td></tr></table></figure><h3 id="15-删除虚拟机"><a href="#15-删除虚拟机" class="headerlink" title="15.删除虚拟机"></a><strong>15.删除虚拟机</strong></h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#注意,全部删除了,不可恢复的哦。可以不加–delete,先从虚拟机列表中删除,然后再删除相应的文件和文件夹</span><br><span class="line">VBoxManage unregistervm --delete vmnamevmname</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;linux中使用命令来管理虚拟机（vbox-VBoxManage）&quot;&gt;&lt;a href=&quot;#linux中使用命令来管理虚拟机（vbox-VBoxManage）&quot; class=&quot;headerlink&quot; title=&quot;linux中使用命令来管理虚拟机（vbox, VBo</summary>
      
    
    
    
    <category term="Linux" scheme="https://benlogs.com/categories/Linux/"/>
    
    
    <category term="vbox" scheme="https://benlogs.com/tags/vbox/"/>
    
  </entry>
  
  <entry>
    <title>youtube playlist test</title>
    <link href="https://benlogs.com/2022/0906/youtube%20english%20playlist/"/>
    <id>https://benlogs.com/2022/0906/youtube%20english%20playlist/</id>
    <published>2022-09-06T14:30:00.000Z</published>
    <updated>2022-09-06T15:03:11.826Z</updated>
    
    <content type="html"><![CDATA[<h3 id="1、视频"><a href="#1、视频" class="headerlink" title="1、视频"></a>1、视频</h3>  <style>.embed-container {    position: relative;    padding-bottom: 56.25%;    height: 0;    overflow: hidden;    max-width: 100%;  }  .embed-container iframe, .embed-container object, .embed-container embed {    position: absolute;    top: 0;    left: 0;    width: 100%;    height: 100%;  }  </style><div class="embed-container"><iframe src="https://www.youtube.com/embed/PNVp3RKERxg" allowfullscreen frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"></iframe></div><h3 id="2、播放列表"><a href="#2、播放列表" class="headerlink" title="2、播放列表"></a>2、播放列表</h3>  <style>.embed-container {    position: relative;    padding-bottom: 56.25%;    height: 0;    overflow: hidden;    max-width: 100%;  }  .embed-container iframe, .embed-container object, .embed-container embed {    position: absolute;    top: 0;    left: 0;    width: 100%;    height: 100%;  }  </style><div class="embed-container"><iframe src="https://www.youtube.com/embed?listType=playlist&list=PLsRsphtLF70V6UmyoEZZiv4JX8zt1Ob6n" allowfullscreen frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"></iframe></div><h3 id="3、用户"><a href="#3、用户" class="headerlink" title="3、用户"></a>3、用户</h3>  <style>.embed-container {    position: relative;    padding-bottom: 56.25%;    height: 0;    overflow: hidden;    max-width: 100%;  }  .embed-container iframe, .embed-container object, .embed-container embed {    position: absolute;    top: 0;    left: 0;    width: 100%;    height: 100%;  }  </style><div class="embed-container"><iframe src="https://www.youtube.com/embed?listType=user_uploads&list=bbclearningenglish" allowfullscreen frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"></iframe></div>]]></content>
    
    
      
      
    <summary type="html">&lt;h3 id=&quot;1、视频&quot;&gt;&lt;a href=&quot;#1、视频&quot; class=&quot;headerlink&quot; title=&quot;1、视频&quot;&gt;&lt;/a&gt;1、视频&lt;/h3&gt;  &lt;style&gt;.embed-container {
    position: relative;
    padding-b</summary>
      
    
    
    
    <category term="English" scheme="https://benlogs.com/categories/English/"/>
    
    
    <category term="grammar" scheme="https://benlogs.com/tags/grammar/"/>
    
    <category term="english" scheme="https://benlogs.com/tags/english/"/>
    
    <category term="Sentence" scheme="https://benlogs.com/tags/Sentence/"/>
    
  </entry>
  
  <entry>
    <title>Sentence Patterns（句子模型）</title>
    <link href="https://benlogs.com/2022/0902/%E8%8B%B1%E8%AF%AD%E7%9A%84%E5%8F%A5%E5%9E%8B/"/>
    <id>https://benlogs.com/2022/0902/%E8%8B%B1%E8%AF%AD%E7%9A%84%E5%8F%A5%E5%9E%8B/</id>
    <published>2022-09-02T04:30:00.000Z</published>
    <updated>2022-09-08T04:23:20.349Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Sentence-Patterns（句子模型）"><a href="#Sentence-Patterns（句子模型）" class="headerlink" title="Sentence Patterns（句子模型）"></a>Sentence Patterns（句子模型）</h1><p>“Sentence patterns” is just another way talk about the way a sentence is put together; the order of the elements（要素） in the sentence; sentence construction（结构）. Some sources say there are six English sentence patterns; some say eight. A few sources list even more. Here are the ones we feel are the most common（常见的&#x2F;普通的）, and the easiest to recognize（识别&#x2F;辨别）:</p><blockquote id='86540'><script>    window.addEventListener('load', function() {      $.getJSON('https://en.wikipedia.org/w/api.php?action=query&origin=*&prop=extracts&format=json&exintro=&titles=Sentence_(linguistics)', function(result) {        const pages = result.query.pages;        const firstPageIndex = Object.keys(pages)[0];        const extract = pages[firstPageIndex].extract;        $('#86540').prepend(extract);      });    });  </script><p><a href="https://en.wikipedia.org/wiki/Sentence_(linguistics)">Wikipedia</a></p></blockquote><h3 id="1-Subject-Verb-S-V-（主-谓-x2F-动）"><a href="#1-Subject-Verb-S-V-（主-谓-x2F-动）" class="headerlink" title="1. Subject + Verb (S-V)（主+谓&#x2F;动）"></a>1. Subject + Verb (S-V)（主+谓&#x2F;动）</h3><p>This is the simplest kind of sentence. It consists of a subject, a verb, and possibly some adjectives（形容词）, adverbs（副词）, or <u>prepositional phrases（介词短语）</u>. There are no <u>direct objects（直接宾语&#x2F;受词）</u>, indirect objects（间接宾语）, or complements（宾语补足语）.</p><ul><li><p>Abraham speaks fluently. (subject, verb, adverb)</p><blockquote><p>亚伯拉罕说话流利。（主+谓+副）</p></blockquote></li><li><p>Many of the class members write well in class. (subject, verb, adverbs) (The “complete” subject is “Many of the class members”–a noun phrase.)</p><blockquote><p> “Many of the class members”为名词短语。</p></blockquote></li></ul><h3 id="2-Verb-Subject-V-S-（动-主-介词短语）"><a href="#2-Verb-Subject-V-S-（动-主-介词短语）" class="headerlink" title="2. Verb + Subject (V-S)（动+主+介词短语）"></a>2. Verb + Subject (V-S)（动+主+介词短语）</h3><p>Sentences in English usually have the subject come first, followed by the verb. But when a sentence begins with <em>there is, there was, there are, there were</em>, the verb comes first, followed by the subject. The word <em>There</em> is never a subject!</p><ul><li>There is a strange shadow in the woods. (verb, subject–the complete subject is the noun phrase <em>a strange shadow</em>, adverb)</li><li>There were no leftovers（剩饭菜） after the buffet（自助餐）. (verb, subject, adverb)</li></ul><h3 id="3-Subject-Verb-Direct-Object-S-V-DO"><a href="#3-Subject-Verb-Direct-Object-S-V-DO" class="headerlink" title="3. Subject + Verb + Direct Object (S-V-DO)"></a>3. Subject + Verb + Direct Object (S-V-DO)</h3><ul><li><p>Andrew composes music. (subject, verb, direct object.)</p></li><li><p>Matthew helps others in several English practice rooms. (subject, verb, direct object, adverb)</p></li><li><p>Helen tells jokes to make people smile. (subject, verb, direct object, adverb)</p></li></ul><hr><h6 id="adverb-副词"><a href="#adverb-副词" class="headerlink" title="adverb 副词"></a>adverb 副词</h6><blockquote><p>英语wiki说明：</p><p>An adverb is a word that modifies（修饰） a verb, adjective, another adverb, determiner（限定词）, noun phrase, clause（从句）, or sentence. Adverbs <u>typically express manner（通常表示方式）</u>, place, time, frequency, degree（程度）, level of certainty（确定）, etc（&#x3D;et cetera (缩)等等）., answering questions such as how?, in what way?, when?, where?, and to what extent?. This function is called the adverbial function, and may be realized（认识&#x2F;实现） by single words (adverbs) or by multi-word expressions (adverbial phrases and adverbial clauses).<br>Adverbs are <u>traditionally regarded（传统上被视为）</u> as one of <u>the parts of speech（词性）</u>. However, <u>modern linguists（现代语言学家）</u> note that it has come to be used as a kind of “catch-all” category, used to <u>classify（将..分类）</u> words with various（各种各样的） different types of <u>syntactic behavior（句法行为）</u>, not necessarily having much in common except that they do not <u>fit into(适合&#x2F;适应；符合)</u> any of the other <u>available categories(可用类别)</u> (noun, adjective, preposition, etc.)</p></blockquote><hr><h3 id="4-Subject-Verb-Complement-S-V-SC"><a href="#4-Subject-Verb-Complement-S-V-SC" class="headerlink" title="4. Subject + Verb + Complement (S-V-SC)"></a>4. Subject + Verb + Complement (S-V-SC)</h3><p>A <strong>complement</strong> is a <strong>word</strong> or group of words that <strong>describe or rename</strong> the subject. Complements follow a <u>linking verb</u>. There are two kinds of subject complements: <strong>1)</strong> <strong><u>predicate nominative</u></strong>, which is a noun or pronoun that renames or <u>classifies</u> the subject of the sentence and <strong>2)</strong> <strong><u>predicate adjective</u>,</strong> which is an adjective that describes the subject of the sentence.</p><ul><li><p>Mother looks tired. (subject, verb, complement–predicate adjective)</p></li><li><p>Some students in the class are engineers. (the noun phrase <em>Some students in the class</em> is the complete subject, verb, complement–predicate nominative)</p></li><li><p>The men are handsome, the women are clever, and the children are above-average. (compound sentence of three independent clauses, so three subjects, three verbs, three complements–all predicate adjectives)</p></li></ul><hr><blockquote><p>生词：</p><ul><li>SC&#x3D;Subject Complement&#x3D;主词补语；</li><li>linking verb&#x3D;系动词；</li><li>predicate nominative&#x3D;谓语主格；</li><li>predicate adjective&#x3D;谓语性形容词;</li><li>classifies&#x3D;class +ify+三单形式&#x3D;将…分类，<a href="https://wenney.com/archives/di-san-ren-cheng-dan-shu">三单详解</a>；</li></ul></blockquote><hr><h3 id="5-Subject-Verb-Indirect-Object-Direct-Object-S-V-IO-DO"><a href="#5-Subject-Verb-Indirect-Object-Direct-Object-S-V-IO-DO" class="headerlink" title="5. Subject + Verb + Indirect Object + Direct Object (S-V-IO-DO)"></a>5. Subject + Verb + Indirect Object + Direct Object (S-V-IO-DO)</h3><p>An indirect object tells <em>for whom</em> or <em>to whom</em>. If the indirect object comes after the direct object (in a prepositional phrase “to ________” or “for _______”), the sentence pattern is shown as <strong>S-V-DO-IO</strong>. Pronouns are usually used as indirect objects (but not always).</p><ul><li>I sent her a birthday present. (subject, verb, indirect object, direct object)</li><li>Jay gave his dog a bone. (subject, verb, indirect object, direct object)</li><li>Granny left Gary all of her money. (subject, verb, indirect object, direct object)</li><li>Granny gave every last asset to Gary. (subject, verb, direct object, indirect object in a prepositional phrase)</li></ul><h3 id="6-Subject-Verb-Direct-Object-Object-Complement-S-V-DO-OC"><a href="#6-Subject-Verb-Direct-Object-Object-Complement-S-V-DO-OC" class="headerlink" title="6. Subject + Verb + Direct Object + Object Complement (S-V-DO-OC)"></a>6. Subject + Verb + Direct Object + Object Complement (S-V-DO-OC)</h3><p>This pattern isn’t as common as the others, but it is used. <strong>An object complement is a word or group of words that renames, describes, or classifies the direct object.</strong> Object complements are nouns or adjectives and follow the object.</p><ul><li>Debbie left the window open during the rain storm. (subject, verb, direct object, object complement, adverb)</li><li>The class picked Susie class representative. (subject, verb, direct object, object complement)</li></ul><h3 id="Sentence-Pattern-Quiz"><a href="#Sentence-Pattern-Quiz" class="headerlink" title="Sentence Pattern Quiz"></a>Sentence Pattern Quiz</h3><p>Some patterns in using clauses:</p><ol><li><p>Independent clause:  <em>We are happy about the approaching holiday season.</em></p></li><li><p>Two independent clauses joined with a coordinating conjunction: <em>We are happy about the approaching holiday season,</em> <em>and we look forward to a prosperous new year.</em></p></li><li><p>Two independent clauses, with no conjunction: <em>We are happy about the approaching holiday season; we look forward to a prosperous new year.</em></p></li><li><p>Two independent clauses with an independent marker (<em>therefore, moreover, thus, consequently, however, also</em> <em>are some</em>): <em>We are happy about the approaching holiday season; furthermore, we look forward to a prosperous new year.</em></p></li><li><p>Dependent marker (<em>because, since, while, although, if, until, when, as, after, then</em> <em>are some</em>), dependent clause, independent clause: <em>Because we are happy about the approaching holiday season, we are planning many parties and gatherings with friends.</em></p></li><li><p>Independent clause, dependent marker, dependent clause: <em>We are planning many parties and gatherings with friends, because we are happy about the approaching holiday season.</em></p></li><li><p>First part of an independent clause, unneeded clause or phrase, the rest of the independent clause: <em>We are planning many parties and gatherings, including formal and informal, with friends.</em></p></li><li><p>First part of an independent clause, essential clause or phrase, the rest of the independent clause: <em>We who are happy about the approaching holiday season are planning many parties and gatherings, formal and informal, with friends.</em></p></li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;Sentence-Patterns（句子模型）&quot;&gt;&lt;a href=&quot;#Sentence-Patterns（句子模型）&quot; class=&quot;headerlink&quot; title=&quot;Sentence Patterns（句子模型）&quot;&gt;&lt;/a&gt;Sentence Patterns</summary>
      
    
    
    
    <category term="English" scheme="https://benlogs.com/categories/English/"/>
    
    
    <category term="grammar" scheme="https://benlogs.com/tags/grammar/"/>
    
    <category term="english" scheme="https://benlogs.com/tags/english/"/>
    
    <category term="Sentence" scheme="https://benlogs.com/tags/Sentence/"/>
    
  </entry>
  
  <entry>
    <title>单网口OpenWRT设备 + 网管交换机通过VLAN 实现网口拓展、流量隔离</title>
    <link href="https://benlogs.com/2022/0830/%E5%8D%95%E7%BD%91%E5%8F%A3OpenWRT%E8%AE%BE%E5%A4%87%20+%20%E7%BD%91%E7%AE%A1%E4%BA%A4%E6%8D%A2%E6%9C%BA%E9%80%9A%E8%BF%87VLAN%20%E5%AE%9E%E7%8E%B0%E7%BD%91%E5%8F%A3%E6%8B%93%E5%B1%95%E3%80%81%E6%B5%81%E9%87%8F%E9%9A%94%E7%A6%BB/"/>
    <id>https://benlogs.com/2022/0830/%E5%8D%95%E7%BD%91%E5%8F%A3OpenWRT%E8%AE%BE%E5%A4%87%20+%20%E7%BD%91%E7%AE%A1%E4%BA%A4%E6%8D%A2%E6%9C%BA%E9%80%9A%E8%BF%87VLAN%20%E5%AE%9E%E7%8E%B0%E7%BD%91%E5%8F%A3%E6%8B%93%E5%B1%95%E3%80%81%E6%B5%81%E9%87%8F%E9%9A%94%E7%A6%BB/</id>
    <published>2022-08-30T10:30:00.000Z</published>
    <updated>2022-08-30T09:27:06.767Z</updated>
    
    <content type="html"><![CDATA[<p>手里有两台设备，<strong>单网口</strong>OpenWRT设备 + 网管型交换机。我们该如何通过VLAN 实现网口拓展、流量隔离，进而将N1盒子如何成为一个主路由？</p><p>要回答这个问题，我们要先了解一下什么是VLAN？为什么需要VLAN？</p><h2 id="VLAN是什么"><a href="#VLAN是什么" class="headerlink" title="VLAN是什么"></a>VLAN是什么</h2><p><strong>虚拟局域网</strong>（<strong>Virtual Local Area Network</strong>或简写<strong>VLAN</strong>,<strong>V-LAN</strong>）是一种建构于局域网交换技术（LAN Switch）的<a href="https://link.zhihu.com/?target=https://zh.wikipedia.org/wiki/%E7%B6%B2%E7%B5%A1%E7%AE%A1%E7%90%86">网络管理</a>的技术，网管人员可以借此透过控制<a href="https://link.zhihu.com/?target=https://zh.wikipedia.org/wiki/%E4%BA%A4%E6%8F%9B%E5%99%A8">交换机</a>有效分派出入局域网的报文到正确的出入端口，达到对不同实体局域网中的设备进行<a href="https://www.zhihu.com/search?q=%E9%80%BB%E8%BE%91%E5%88%86%E7%BE%A4&search_source=Entity&hybrid_search_source=Entity&hybrid_search_extra=%7B%22sourceType%22:%22article%22,%22sourceId%22:107093485%7D">逻辑分群</a>（Grouping）管理，并降低局域网内大量数据流通时，因无用报文过多导致壅塞的问题，以及提升局域网的信息安全保障。[<a href="https://zhuanlan.zhihu.com/p/107093485#ref_1">1]</a></p><h2 id="为什么需要VLAN"><a href="#为什么需要VLAN" class="headerlink" title="为什么需要VLAN"></a>为什么需要VLAN</h2><p>简单来说当我们使用<strong>单网口</strong>路由器的时候，用一个网口同时处理WAN口与LAN口数据时容易造成报文壅塞，严重时可能造成网络风暴。所以即使我们只有一个网口，我们希望通过某些方式做到逻辑隔离，有效减少无用报文提高数据交换效率。</p><p>而VLAN便是一种实现<a href="https://link.zhihu.com/?target=https://zh.wikipedia.org/wiki/%E4%BA%A4%E6%8D%A2%E6%9C%BA">交换机</a><a href="https://link.zhihu.com/?target=https://zh.wikipedia.org/wiki/%E4%B9%99%E5%A4%AA%E7%B6%B2%E8%B7%AF">以太网</a>广播隔离的一种理想解决方案，它可以为网络提供以下作用：</p><blockquote><p>1 广播控制<br>2 带宽利用<br>3 降低延迟<br>4 安全性</p></blockquote><p>所以单网口路由器加上VLAN便可以做为一个主力路由器。</p><blockquote><p>为保证不同交换机能通过VLAN通信，1995年<a href="https://link.zhihu.com/?target=https://zh.wikipedia.org/wiki/IEEE">IEEE</a>802委员会发表了<a href="https://link.zhihu.com/?target=https://zh.wikipedia.org/wiki/IEEE_802.1Q">802.1Q</a>VLAN技术的实现标准与帧结构。具体细节可自行Google查询。</p></blockquote><h2 id="前置条件"><a href="#前置条件" class="headerlink" title="前置条件"></a>前置条件</h2><blockquote><p>1 支持基于IEEE 802.1Q VLAN管理交换机<br>2 单网口OpenWRT设备（N1盒子）</p></blockquote><p>题图是楼主自家的设备集合，一个N1盒子、一个8口全千兆管理型交换机、一个无线路由器。</p><h2 id="基本原理与拓扑架构"><a href="#基本原理与拓扑架构" class="headerlink" title="基本原理与拓扑架构"></a>基本原理与拓扑架构</h2><p>通过交换机的管理页面，将网络划分为两个VLAN：</p><blockquote><p><strong>VLAN10</strong> 为<a href="https://www.zhihu.com/search?q=LAN%E5%8F%A3%E7%BD%91%E7%BB%9C&search_source=Entity&hybrid_search_source=Entity&hybrid_search_extra=%7B%22sourceType%22:%22article%22,%22sourceId%22:107093485%7D">LAN口网络</a>，包含端口2-6<br><strong>VLAN100</strong> 为<a href="https://www.zhihu.com/search?q=WAN%E5%8F%A3%E7%BD%91%E7%BB%9C&search_source=Entity&hybrid_search_source=Entity&hybrid_search_extra=%7B%22sourceType%22:%22article%22,%22sourceId%22:107093485%7D">WAN口网络</a>，包含端口1-2</p></blockquote><p>其中端口2为公用端口(tagged port)，同时处理WAN口、LAN口两种流量，其他口为untagged port。</p><p><img src="https://www.smartwirecom.net/upload/img/upload/2021/12/v2-29013c986520bdfe16c1d2d22eeadb88_720w-20211207231200112.jpg" class="lazyload" data-srcset="https://www.smartwirecom.net/upload/img/upload/2021/12/v2-29013c986520bdfe16c1d2d22eeadb88_720w-20211207231200112.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="img">VLAN 设置 t&#x3D;tagged u&#x3D;untagged</p><p>然后为每个端口设置PVID，其作用是为所有不带标签的VLAN数据流进来时打上标签。</p><p>如光猫数据从端口1进来此时不带任何标签，经过端口1后便打上了<strong>100</strong>的标签，随后在VLAN100 的 VLAN 里面流通，找到唯一一个出口端口2，带上标签进入OpenWRT路由器。</p><p><img src="https://www.smartwirecom.net/upload/img/upload/2021/12/v2-132a7a0a78fb2a1335a3841b2ef6b5a0_720w-20211207231154504.jpg" class="lazyload" data-srcset="https://www.smartwirecom.net/upload/img/upload/2021/12/v2-132a7a0a78fb2a1335a3841b2ef6b5a0_720w-20211207231154504.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="img">PVID设置</p><p>结合以下拓扑图，我们不难分析数据走向（相同颜色即为同一VLAN）：</p><blockquote><p>1 无标签数据从光猫进入交换机的网口1，被打上100的标签<br>2 标签100只在属于VLAN100，所以找到唯一的一个可连接的端口2，从端口2进入路由器<br>3 路由器设置了WAN口连接VLAN100，LAN口连VLAN10。CPU处理带标签100的数据后，然后转换成标签10的数据流回端口2<br>4 数据流向端口3-6，从端口出去时将ID去掉，给到无线路由器或者有线PC等设备(各种设备对VLAN无感知)<br>5 从WAN到LAN的数据流结束</p></blockquote><p><img src="https://www.smartwirecom.net/upload/img/upload/2021/12/v2-2eee16fe23e3da0611a63f394e4b7851_720w-20211207231148429.jpg" class="lazyload" data-srcset="https://www.smartwirecom.net/upload/img/upload/2021/12/v2-2eee16fe23e3da0611a63f394e4b7851_720w-20211207231148429.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="img">单网口OpenWRT设备 + 网管交换机的VLAN拓扑</p><h2 id="如何设置"><a href="#如何设置" class="headerlink" title="如何设置"></a>如何设置</h2><p>请参考视频资料，<strong>单网口OpenWRT设备如何设置VLAN？N1盒子如何成为主路由？最终实现网口拓展、流量隔离：</strong><a href="https://link.zhihu.com/?target=https://www.bilibili.com/video/BV1B7411E7sK/">https://www.bilibili.com/video/BV1B7411E7sK/</a>。</p><blockquote><p>1 交换机设置</p></blockquote><p><strong>VLAN划分设置</strong></p><p><img src="https://www.smartwirecom.net/upload/img/upload/2021/12/v2-d0c52fcc3807c30f48e80b8bded3e423_720w-20211207231215687.jpg" class="lazyload" data-srcset="https://www.smartwirecom.net/upload/img/upload/2021/12/v2-d0c52fcc3807c30f48e80b8bded3e423_720w-20211207231215687.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="img">VLAN划分</p><p><strong>PVID设置</strong></p><p><img src="https://www.smartwirecom.net/upload/img/upload/2021/12/v2-2f617da9a8eae1af35cc405ccc9c064e_720w-20211207231224554.jpg" class="lazyload" data-srcset="https://www.smartwirecom.net/upload/img/upload/2021/12/v2-2f617da9a8eae1af35cc405ccc9c064e_720w-20211207231224554.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="img">PVID设置</p><blockquote><p>2 OpenWRT接口设置</p></blockquote><p>LAN桥接到 **<a href="https://www.zhihu.com/search?q=eth0.10&search_source=Entity&hybrid_search_source=Entity&hybrid_search_extra=%7B%22sourceType%22:%22article%22,%22sourceId%22:107093485%7D">eth0.10</a>**，即使用VLAN10</p><p><img src="https://www.smartwirecom.net/upload/img/upload/2021/12/v2-bc62c43376e12cb967e6d032bbd00028_720w.jpg" class="lazyload" data-srcset="https://www.smartwirecom.net/upload/img/upload/2021/12/v2-bc62c43376e12cb967e6d032bbd00028_720w.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="img">LAN口设置</p><p>WAN口设置到 **<a href="https://www.zhihu.com/search?q=eth0.100&search_source=Entity&hybrid_search_source=Entity&hybrid_search_extra=%7B%22sourceType%22:%22article%22,%22sourceId%22:107093485%7D">eth0.100</a>**，即连接到VLAN100。</p><p><img src="https://www.smartwirecom.net/upload/img/upload/2021/12/v2-0aef72ddc25a3dd3627dc60f585171f7_720w.jpg" class="lazyload" data-srcset="https://www.smartwirecom.net/upload/img/upload/2021/12/v2-0aef72ddc25a3dd3627dc60f585171f7_720w.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="img">WAN口设置</p><blockquote><p>3 防火墙设置</p></blockquote><p>将之前<a href="https://www.zhihu.com/search?q=%E5%8D%95%E8%87%82%E8%B7%AF%E7%94%B1&search_source=Entity&hybrid_search_source=Entity&hybrid_search_extra=%7B%22sourceType%22:%22article%22,%22sourceId%22:107093485%7D">单臂路由</a>时所设置的防火墙规则删掉或者注释掉，换为第二行的规则。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#iptables -t nat -I POSTROUTING -o eth0 -j MASQUERADE</span></span><br><span class="line">iptables -t nat -I POSTROUTING -o pppoe-WAN -j MASQUERADE</span><br></pre></td></tr></table></figure><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>通过VLAN的划分我们的单网口路由即可摇身一变成主路由，同时WAN口&#x2F;LAN口的数据流量不冲突、不会造成潜在的风险。剩余的3-8口都可以作为LAN口，只需要把网络设备接上即可正常上网。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;手里有两台设备，&lt;strong&gt;单网口&lt;/strong&gt;OpenWRT设备 + 网管型交换机。我们该如何通过VLAN 实现网口拓展、流量隔离，进而将N1盒子如何成为一个主路由？&lt;/p&gt;
&lt;p&gt;要回答这个问题，我们要先了解一下什么是VLAN？为什么需要VLAN？&lt;/p&gt;
&lt;h</summary>
      
    
    
    
    <category term="网络" scheme="https://benlogs.com/categories/%E7%BD%91%E7%BB%9C/"/>
    
    
  </entry>
  
  <entry>
    <title>阿里云申请免费SSL证书并部署到docker中的halo</title>
    <link href="https://benlogs.com/2022/0830/%E9%98%BF%E9%87%8C%E4%BA%91%E7%94%B3%E8%AF%B7%E5%85%8D%E8%B4%B9ssl%E8%AF%81%E4%B9%A6%E5%B9%B6%E9%83%A8%E7%BD%B2%E5%88%B0docker%E4%B8%AD%E7%9A%84halo/"/>
    <id>https://benlogs.com/2022/0830/%E9%98%BF%E9%87%8C%E4%BA%91%E7%94%B3%E8%AF%B7%E5%85%8D%E8%B4%B9ssl%E8%AF%81%E4%B9%A6%E5%B9%B6%E9%83%A8%E7%BD%B2%E5%88%B0docker%E4%B8%AD%E7%9A%84halo/</id>
    <published>2022-08-30T10:30:00.000Z</published>
    <updated>2022-08-30T09:26:14.948Z</updated>
    
    <content type="html"><![CDATA[<h1 id="阿里云申请免费SSL证书并部署到docker中的halo"><a href="#阿里云申请免费SSL证书并部署到docker中的halo" class="headerlink" title="阿里云申请免费SSL证书并部署到docker中的halo"></a>阿里云申请免费SSL证书并部署到docker中的halo</h1><h3 id="1、申请阿里云免费ssl"><a href="#1、申请阿里云免费ssl" class="headerlink" title="1、申请阿里云免费ssl"></a>1、申请阿里云免费ssl</h3><p>0元购买地址：<a href="https://common-buy.aliyun.com/?spm=5176.7968328.J_8413632810.2.572c65c30DV07n&commodityCode=cas_dv_public_cn&request=%7B%22ord_time%22:%221:Year%22,%22order_num%22:1,%22product%22:%22cert_product%22,%22domain%22:%22all%22,%22productCode%22:%22symantec-dv-1-starter%22,%22service_num%22:1%7D">云盾证书服务</a></p><p><img src="https://www.smartwirecom.net/upload/img/upload/2021/12/image-20211204171530321.png" class="lazyload" data-srcset="https://www.smartwirecom.net/upload/img/upload/2021/12/image-20211204171530321.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20211204171530321"></p><h4 id="管理证书"><a href="#管理证书" class="headerlink" title="管理证书"></a>管理证书</h4><h6 id="SSL证书管理控制台–-gt-SSL证书–-gt-免费证书，创建证书"><a href="#SSL证书管理控制台–-gt-SSL证书–-gt-免费证书，创建证书" class="headerlink" title="SSL证书管理控制台–&gt;SSL证书–&gt;免费证书，创建证书"></a>SSL证书管理控制台–&gt;SSL证书–&gt;免费证书，创建证书</h6><p><img src="https://www.smartwirecom.net/upload/img/upload/2021/12/image-20211204171948446.png" class="lazyload" data-srcset="https://www.smartwirecom.net/upload/img/upload/2021/12/image-20211204171948446.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20211204171948446"></p><h6 id="创建证书之后，点击“证书申请”，填写相关信息提交申请。"><a href="#创建证书之后，点击“证书申请”，填写相关信息提交申请。" class="headerlink" title="创建证书之后，点击“证书申请”，填写相关信息提交申请。"></a>创建证书之后，点击“证书申请”，填写相关信息提交申请。</h6><p><img src="https://www.smartwirecom.net/upload/img/upload/2021/12/image-20211204172126555.png" class="lazyload" data-srcset="https://www.smartwirecom.net/upload/img/upload/2021/12/image-20211204172126555.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20211204172126555"></p><h6 id="填写资料提交申请的过程中，需要进行域名解析，例如："><a href="#填写资料提交申请的过程中，需要进行域名解析，例如：" class="headerlink" title="填写资料提交申请的过程中，需要进行域名解析，例如："></a>填写资料提交申请的过程中，需要进行域名解析，例如：</h6><p><img src="https://www.smartwirecom.net/upload/img/upload/2021/12/image-20211204172523532.png" class="lazyload" data-srcset="https://www.smartwirecom.net/upload/img/upload/2021/12/image-20211204172523532.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20211204172523532"></p><h3 id="2、部署到网站"><a href="#2、部署到网站" class="headerlink" title="2、部署到网站"></a>2、部署到网站</h3><h4 id="2-1、下载证书"><a href="#2-1、下载证书" class="headerlink" title="2.1、下载证书"></a>2.1、下载证书</h4><p><img src="https://www.smartwirecom.net/upload/img/upload/2021/12/image-20211204172635685.png" class="lazyload" data-srcset="https://www.smartwirecom.net/upload/img/upload/2021/12/image-20211204172635685.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20211204172635685"></p><p>下载完后得到两个文件，如下</p><img src="https://www.smartwirecom.net/upload/img/upload/2021/12/image-20211204172702041.png" class="lazyload" data-srcset="https://www.smartwirecom.net/upload/img/upload/2021/12/image-20211204172702041.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20211204172702041"   align="left"/><h4 id="2-2-、上传证书到云服务器"><a href="#2-2-、上传证书到云服务器" class="headerlink" title="2.2 、上传证书到云服务器"></a>2.2 、上传证书到云服务器</h4><p>创建证书目录，并使用sftp工具将上传到该目录，如：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir /smartwirecom/cert</span><br></pre></td></tr></table></figure><p>配置nginx.conf文件，注意80端口、445端口是否被其他软件或nginx的server占用，可以使用<code>lsof -i:80</code>指令查询占用情况。</p><p>配置文件如下（可以用vi、vim或sftp工具修改）：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">监听80端口，并将其重定向到https</span></span><br><span class="line">server &#123;</span><br><span class="line">    listen 80;</span><br><span class="line"> </span><br><span class="line">    # 将smartwirecom.net改为您自己的域名</span><br><span class="line">    server_name smartwirecom.net;</span><br><span class="line">    # 上传文件大小的限制</span><br><span class="line">client_max_body_size 1024m;</span><br><span class="line">    # 将所有http请求通过rewrite重定向到https。</span><br><span class="line">    rewrite ^(.*)$ https://$host$1 permanent;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br><span class="line"><span class="meta prompt_"> </span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment"># 配置ssl</span></span></span><br><span class="line">server &#123;</span><br><span class="line">    listen 443 ssl;</span><br><span class="line"> </span><br><span class="line">    # 将smartwirecom.net改为您自己的域名</span><br><span class="line">    server_name smartwirecom.net;</span><br><span class="line">    # 上传文件大小的限制</span><br><span class="line">client_max_body_size 1024m;</span><br><span class="line">    # 将证书文件存放路径和证书的密钥文件名替换成自己存放路径与证书的密钥文件名。</span><br><span class="line">    ssl_certificate /smartwirecom/cert/xxxxx_smartwirecom.net.pem;</span><br><span class="line">    ssl_certificate_key /smartwirecom/cert/xxxxx_smartwirecom.net.key;</span><br><span class="line"> </span><br><span class="line">    ssl_session_timeout 5m;</span><br><span class="line">    ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:!NULL:!aNULL:!MD5:!ADH:!RC4;</span><br><span class="line">    ssl_protocols TLSv1 TLSv1.1 TLSv1.2;</span><br><span class="line">    ssl_prefer_server_ciphers on;</span><br><span class="line"> </span><br><span class="line">    location / &#123;</span><br><span class="line">        proxy_set_header HOST $host;</span><br><span class="line">        proxy_set_header X-Forwarded-Proto $scheme;</span><br><span class="line">        proxy_set_header X-Real-IP $remote_addr;</span><br><span class="line">        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</span><br><span class="line"> </span><br><span class="line">        # 下面8090是您配置Halo的端口号，笔者这里使用默认端口。</span><br><span class="line">        proxy_pass http://127.0.0.1:8090/;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>重启nignx：<code>systemctl restart nginx</code> 或者<code>nginx -s reload</code></p><p>效果：</p><p><img src="https://www.smartwirecom.net/upload/img/upload/2021/12/image-20211204173848545.png" class="lazyload" data-srcset="https://www.smartwirecom.net/upload/img/upload/2021/12/image-20211204173848545.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20211204173848545"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;阿里云申请免费SSL证书并部署到docker中的halo&quot;&gt;&lt;a href=&quot;#阿里云申请免费SSL证书并部署到docker中的halo&quot; class=&quot;headerlink&quot; title=&quot;阿里云申请免费SSL证书并部署到docker中的halo&quot;&gt;&lt;/a&gt;阿里</summary>
      
    
    
    
    <category term="Web" scheme="https://benlogs.com/categories/Web/"/>
    
    
  </entry>
  
  <entry>
    <title>hexo+github部署个人网站</title>
    <link href="https://benlogs.com/2022/0829/%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8github%E9%83%A8%E7%BD%B2%E4%B8%AA%E4%BA%BA%E7%BD%91%E7%AB%99/"/>
    <id>https://benlogs.com/2022/0829/%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8github%E9%83%A8%E7%BD%B2%E4%B8%AA%E4%BA%BA%E7%BD%91%E7%AB%99/</id>
    <published>2022-08-29T08:30:00.000Z</published>
    <updated>2022-09-08T06:42:08.999Z</updated>
    
    <content type="html"><![CDATA[<h1 id="使用hexo-github部署个人网站"><a href="#使用hexo-github部署个人网站" class="headerlink" title="使用hexo+github部署个人网站"></a>使用hexo+github部署个人网站</h1><h3 id="1、M1中安装hexo"><a href="#1、M1中安装hexo" class="headerlink" title="1、M1中安装hexo"></a>1、M1中安装hexo</h3><p>参考：<a href="https://zhuanlan.zhihu.com/p/546198492">https://zhuanlan.zhihu.com/p/546198492</a></p><h4 id="1-1、node-js安装"><a href="#1-1、node-js安装" class="headerlink" title="1.1、node.js安装"></a>1.1、node.js安装</h4><p>因为后面要用到npm install，而npm被集成到了node中，所以首先来安装下node.js。</p><ul><li>下载地址：<a href="https://link.zhihu.com/?target=https://nodejs.org/zh-cn/download/">node.js下载</a></li><li>如下图：M1的选择ARM64那个</li></ul><p><img src="https://benlogs.com/imgesupload/img/v2-888c31276408642893c35a42836c8a3d_720w.jpg" class="lazyload" data-srcset="https://benlogs.com/imgesupload/img/v2-888c31276408642893c35a42836c8a3d_720w.jpg" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><p>安装成功后，可在终端通过-v查看是否安装成功：</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">node <span class="literal">-v</span> <span class="comment">#查看node版本</span></span><br><span class="line">npm <span class="literal">-v</span> <span class="comment">#查看npm版本</span></span><br></pre></td></tr></table></figure><h3 id="1-2、安装hexo"><a href="#1-2、安装hexo" class="headerlink" title="1.2、安装hexo"></a>1.2、安装hexo</h3><p>安装hexo代码，在终端输入：</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo<span class="literal">-cli</span> <span class="literal">-g</span></span><br></pre></td></tr></table></figure><p>我在执行这一步的时候报错提示：</p><blockquote><p>Error: EACCES: permission denied, mkdir ‘&#x2F;usr&#x2F;local&#x2F;lib&#x2F;node_modules&#x2F;hexo-cli’</p></blockquote><p>搜了一下，是mac和win都很普遍的权限问题，解决方法如下：</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo chown <span class="literal">-R</span> <span class="variable">$</span>(whoami) <span class="variable">$</span>(npm config get prefix)/&#123;lib/node_modules,bin,share&#125; <span class="comment">#修改权限范围</span></span><br></pre></td></tr></table></figure><p>然后再次执行<code>npm install hexo-cli -g</code>即可</p><h4 id="1-3-初始化本地博客文件夹"><a href="#1-3-初始化本地博客文件夹" class="headerlink" title="1.3.初始化本地博客文件夹"></a>1.3.初始化本地博客文件夹</h4><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 博客初始化，这里是创建的本地博客文件夹，执行后会自动创建，我这里图简洁，直接用了我网站的地址hihulu.github.io为文件名</span></span><br><span class="line">hexo init /Users/bentou/hexo/hihulu.github.io  </span><br><span class="line"><span class="built_in">cd</span> /Users/bentou/hexo/hihulu.github.io  <span class="comment"># 进入本地的博客文件夹</span></span><br><span class="line">hexo server <span class="comment"># 打开本地服务器预览</span></span><br></pre></td></tr></table></figure><p>以上执行后，你就可以通过访问本地网站“<a href="http://localhost:4000/%E2%80%9D%EF%BC%8C%E7%9C%8B%E5%88%B0%E8%87%AA%E5%B7%B1%E7%BD%91%E7%AB%99%E7%9A%84%E4%B8%80%E4%B8%AA%E5%A4%A7%E6%A6%82%E5%95%A6">http://localhost:4000/”，看到自己网站的一个大概啦</a></p><h3 id="2、安装主题"><a href="#2、安装主题" class="headerlink" title="2、安装主题"></a>2、安装主题</h3><p>使用的主题：<a href="https://github.com/chaooo/hexo-theme-BlueLake">https://github.com/chaooo/hexo-theme-BlueLake</a></p><p>安装说明：<a href="https://chaooo.github.io/2016/12/29/bluelake.html">https://chaooo.github.io/2016/12/29/bluelake.html</a></p><h3 id="3、GitHub上部署"><a href="#3、GitHub上部署" class="headerlink" title="3、GitHub上部署"></a>3、GitHub上部署</h3><h4 id="3-1、创建仓库"><a href="#3-1、创建仓库" class="headerlink" title="3.1、创建仓库"></a>3.1、创建仓库</h4><p><img src="https://benlogs.com/imgesupload/img/image-20220829164412189.png" class="lazyload" data-srcset="https://benlogs.com/imgesupload/img/image-20220829164412189.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><h4 id="3-2、配置git"><a href="#3-2、配置git" class="headerlink" title="3.2、配置git"></a>3.2、配置git</h4><p>在仓库的code页面，<u>复制ssh链接</u>：</p><p><img src="https://benlogs.com/imgesupload/img/image-20220829164456142.png" class="lazyload" data-srcset="https://benlogs.com/imgesupload/img/image-20220829164456142.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><p>在根_config.yml文件deploy中，填入ssh地址：</p><p><img src="https://benlogs.com/imgesupload/img/image-20220829164702438.png" class="lazyload" data-srcset="https://benlogs.com/imgesupload/img/image-20220829164702438.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">git</span></span><br><span class="line">  <span class="attr">repo:</span> <span class="string">git@github.com:hokbam/hokbam.github.io.git</span> <span class="comment">#这个地址是从github仓库复制过来的ssh</span></span><br><span class="line">  <span class="attr">branch:</span> <span class="string">main</span></span><br></pre></td></tr></table></figure><p>当使用hexo d将项目push到GitHub时，可能会出错，因为本机中没有配置ssh信息：</p><p><img src="https://benlogs.com/imgesupload/img/image-20220829170033201.png" class="lazyload" data-srcset="https://benlogs.com/imgesupload/img/image-20220829170033201.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><p>参考解决方案：<a href="https://blog.csdn.net/weixin_45434534/article/details/104567870">https://blog.csdn.net/weixin_45434534/article/details/104567870</a></p><p>在mac终端进行如下操作：</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -C <span class="string">&quot;此处为GitHub的邮箱地址&quot;</span></span><br><span class="line">ssh -v git@github.com</span><br><span class="line">ssh-agent -s</span><br><span class="line">ssh-add ~/.ssh/id_rsa</span><br></pre></td></tr></table></figure><p>将生成的.pub文件中的内容，在GitHub上创建SSH KEY</p><p><img src="https://benlogs.com/imgesupload/img/image-20220829170114947.png" class="lazyload" data-srcset="https://benlogs.com/imgesupload/img/image-20220829170114947.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><p>GitHub网站路径：右上角头像-&gt;Setting：</p><p><img src="https://benlogs.com/imgesupload/img/image-20220829165540742.png" class="lazyload" data-srcset="https://benlogs.com/imgesupload/img/image-20220829165540742.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><p>再次执行<code> hexo clean &amp;&amp; hexo deploy</code>，git上传成功：</p><p><img src="https://benlogs.com/imgesupload/img/image-20220829165855141.png" class="lazyload" data-srcset="https://benlogs.com/imgesupload/img/image-20220829165855141.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;使用hexo-github部署个人网站&quot;&gt;&lt;a href=&quot;#使用hexo-github部署个人网站&quot; class=&quot;headerlink&quot; title=&quot;使用hexo+github部署个人网站&quot;&gt;&lt;/a&gt;使用hexo+github部署个人网站&lt;/h1&gt;&lt;h3 i</summary>
      
    
    
    
    <category term="Linux" scheme="https://benlogs.com/categories/Linux/"/>
    
    
  </entry>
  
  <entry>
    <title>markdown测试</title>
    <link href="https://benlogs.com/2022/0828/MarkDown%E6%B5%8B%E8%AF%95/"/>
    <id>https://benlogs.com/2022/0828/MarkDown%E6%B5%8B%E8%AF%95/</id>
    <published>2022-08-28T10:30:00.000Z</published>
    <updated>2022-08-29T07:56:19.021Z</updated>
    
    <content type="html"><![CDATA[<h3 id="1、表情符号"><a href="#1、表情符号" class="headerlink" title="1、表情符号"></a>1、表情符号</h3><p><a href="https://www.webfx.com/tools/emoji-cheat-sheet/">https://www.webfx.com/tools/emoji-cheat-sheet/</a></p><h3 id="100-two-three-four-five-six-seven"><a href="#100-two-three-four-five-six-seven" class="headerlink" title=":100: :two::three::four::five::six::seven:"></a>:100: :two::three::four::five::six::seven:</h3><p>:heavy_check_mark::heavy_multiplication_x:</p><p>:ballot_box_with_check:</p><p>H^2^</p><h3 id="2、脚注"><a href="#2、脚注" class="headerlink" title="2、脚注"></a>2、脚注</h3><p>驿外[^注1]断桥边，寂寞开无主。&#x3D;&#x3D;已是黄昏独&#x3D;&#x3D;自愁，更着风和雨<br>[^注1]:驿（yì）外：指荒僻、冷清之地。驿，驿站。</p><h3 id="3、列表"><a href="#3、列表" class="headerlink" title="3、列表"></a>3、列表</h3><ul><li><p><input disabled="" type="checkbox"> Apple</p></li><li><p><input disabled="" type="checkbox"> Banana</p></li><li><p>1</p></li><li><p>2</p></li><li><p>3</p><ol><li><p>a</p></li><li><p>b</p></li><li><p>c</p></li></ol></li></ul><table><thead><tr><th></th><th></th><th></th></tr></thead><tbody><tr><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td></tr></tbody></table><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sudio -i</span><br><span class="line">a</span><br><span class="line">b</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">cc</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="4、公式"><a href="#4、公式" class="headerlink" title="4、公式"></a>4、公式</h3><p>$$<br>\sqrt{3x-1}+(1+x)^2&#x3D;{x*100}<br>$$</p><p>$$<br>\begin{array}{c}</p><p>\nabla \times \vec{\mathbf{B}} -, \frac1c, \frac{\partial\vec{\mathbf{E}}}{\partial t} &amp;<br>&#x3D; \frac{4\pi}{c}\vec{\mathbf{j}}    \nabla \cdot \vec{\mathbf{E}} &amp; &#x3D; 4 \pi \rho \</p><p>\nabla \times \vec{\mathbf{E}}, +, \frac1c, \frac{\partial\vec{\mathbf{B}}}{\partial t} &amp; &#x3D; \vec{\mathbf{0}} \</p><p>\nabla \cdot \vec{\mathbf{B}} &amp; &#x3D; 0</p><p>\end{array}<br>$$</p><h3 id="5、图表"><a href="#5、图表" class="headerlink" title="5、图表"></a>5、图表</h3><p><a href="https://mermaid-js.github.io/mermaid/#/flowchart">使用说明</a></p><h4 id="5-1、流程图"><a href="#5-1、流程图" class="headerlink" title="5.1、流程图"></a>5.1、流程图</h4><p>有关更多详细信息，请参见<a href="https://link.juejin.cn/?target=https://mermaid-js.github.io/mermaid/%23/flowchart">这些说明</a>。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">graph TD;</span><br><span class="line">A[开始];</span><br><span class="line">B(工作经验);</span><br><span class="line">C(经济实力);</span><br><span class="line">D(语言能力);</span><br><span class="line">E[成功];</span><br><span class="line">    A--&gt;|111|B;</span><br><span class="line">    A--&gt;|222|C;</span><br><span class="line">    A--&gt;|333|D;</span><br><span class="line">    B--&gt;|1111|E;C--&gt;|2222|E;D--&gt;|3333|E;</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">graph LR</span><br><span class="line">A[开始] --&gt;B(Round edge)</span><br><span class="line">    B --&gt; C&#123;Decision&#125;</span><br><span class="line">    C --&gt;|One| D[Result one]</span><br><span class="line">    C --&gt;|Two| E[Result two]</span><br><span class="line">    C --&gt;|打回| A</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">st=&gt;start: Start</span><br><span class="line">op=&gt;operation: Your Operation</span><br><span class="line">cond=&gt;condition: Yes or No?</span><br><span class="line">e=&gt;end</span><br><span class="line"></span><br><span class="line">st-&gt;op-&gt;cond</span><br><span class="line">cond(yes)-&gt;e</span><br><span class="line">cond(no)-&gt;op</span><br></pre></td></tr></table></figure><h4 id="5-2、顺序图"><a href="#5-2、顺序图" class="headerlink" title="5.2、顺序图"></a>5.2、顺序图</h4><p>有关更多详细信息，请参见<a href="https://link.juejin.cn/?target=https://mermaid-js.github.io/mermaid/%23/sequenceDiagram">这些说明</a>。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">sequenceDiagram</span><br><span class="line"></span><br><span class="line">    participant Alice</span><br><span class="line">    participant Bob</span><br><span class="line">    Alice-&gt;&gt;John: Hello John, how are you?</span><br><span class="line">    loop Healthcheck</span><br><span class="line">        John-&gt;&gt;John: Fight against hypochondria</span><br><span class="line">    end</span><br><span class="line">    Note right of John: Rational thoughts &lt;br/&gt;prevail!</span><br><span class="line">    John--&gt;&gt;Alice: Great!</span><br><span class="line">    John-&gt;&gt;Bob: How about you?</span><br><span class="line">    Bob--&gt;&gt;John: Jolly good!</span><br></pre></td></tr></table></figure><h4 id="5-3、Gantt-Charts"><a href="#5-3、Gantt-Charts" class="headerlink" title="5.3、Gantt Charts"></a>5.3、Gantt Charts</h4><p>有关更多详细信息，请参见<a href="https://link.juejin.cn/?target=https://mermaid-js.github.io/mermaid/%23gantt">这些说明</a>。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">%% Example with selection of syntaxes</span><br><span class="line">        gantt</span><br><span class="line">        dateFormat  YYYY-MM-DD</span><br><span class="line">        title Adding GANTT diagram functionality to mermaid</span><br><span class="line"></span><br><span class="line">        section A section</span><br><span class="line">        Completed task            :done,    des1, 2014-01-06,2014-01-08</span><br><span class="line">        Active task               :active,  des2, 2014-01-09, 3d</span><br><span class="line">        Future task               :         des3, after des2, 5d</span><br><span class="line">        Future task2               :         des4, after des3, 5d</span><br><span class="line"></span><br><span class="line">        section Critical tasks</span><br><span class="line">        Completed task in the critical line :crit, done, 2014-01-06,24h</span><br><span class="line">        Implement parser and jison          :crit, done, after des1, 2d</span><br><span class="line">        Create tests for parser             :crit, active, 3d</span><br><span class="line">        Future task in critical line        :crit, 5d</span><br><span class="line">        Create tests for renderer           :2d</span><br><span class="line">        Add to mermaid                      :1d</span><br><span class="line"></span><br><span class="line">        section Documentation</span><br><span class="line">        Describe gantt syntax               :active, a1, after des1, 3d</span><br><span class="line">        Add gantt diagram to demo page      :after a1  , 20h</span><br><span class="line">        Add another diagram to demo page    :doc1, after a1  , 48h</span><br><span class="line"></span><br><span class="line">        section Last section</span><br><span class="line">        Describe gantt syntax               :after doc1, 3d</span><br><span class="line">        Add gantt diagram to demo page      : 20h</span><br><span class="line">        Add another diagram to demo page    : 48h</span><br></pre></td></tr></table></figure><h4 id="5-4、类图"><a href="#5-4、类图" class="headerlink" title="5.4、类图"></a>5.4、类图</h4><p>有关更多详细信息，请参见<a href="https://link.juejin.cn/?target=https://mermaid-js.github.io/mermaid/%23/classDiagram">这些说明</a>。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">classDiagram</span><br><span class="line">      Animal &lt;|-- Duck</span><br><span class="line">      Animal &lt;|-- Fish</span><br><span class="line">      Animal &lt;|-- Zebra</span><br><span class="line">      Animal : +int age</span><br><span class="line">      Animal : +String gender</span><br><span class="line">      Animal: +isMammal()</span><br><span class="line">      Animal: +mate()</span><br><span class="line">      class Duck&#123;</span><br><span class="line">          +String beakColor</span><br><span class="line">          +swim()</span><br><span class="line">          +quack()</span><br><span class="line">      &#125;</span><br><span class="line">      class Fish&#123;</span><br><span class="line">          -int sizeInFeet</span><br><span class="line">          -canEat()</span><br><span class="line">      &#125;</span><br><span class="line">      class Zebra&#123;</span><br><span class="line">          +bool is_wild</span><br><span class="line">          +run()</span><br><span class="line">      &#125;</span><br></pre></td></tr></table></figure><h4 id="5-5、状态图"><a href="#5-5、状态图" class="headerlink" title="5.5、状态图"></a>5.5、状态图</h4><p>有关更多详细信息，请参见<a href="https://link.juejin.cn/?target=https://mermaidjs.github.io/%23/stateDiagram">这些说明</a>。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">stateDiagram</span><br><span class="line">    [*] --&gt; Still</span><br><span class="line">    Still --&gt; [*]</span><br><span class="line"></span><br><span class="line">    Still --&gt; Moving</span><br><span class="line">    Moving --&gt; Still</span><br><span class="line">    Moving --&gt; Crash</span><br><span class="line">    Crash --&gt; [*]</span><br></pre></td></tr></table></figure><h4 id="5-6、饼图"><a href="#5-6、饼图" class="headerlink" title="5.6、饼图"></a>5.6、饼图</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">pie</span><br><span class="line">    title Pie Chart</span><br><span class="line">    &quot;Dogs&quot; : 386</span><br><span class="line">    &quot;Cats&quot; : 85</span><br><span class="line">    &quot;Rats&quot; : 150 </span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">journey</span><br><span class="line">  title My working day</span><br><span class="line">  section Go to work</span><br><span class="line">    Make tea: 5: Me</span><br><span class="line">    Go upstairs: 3: Me</span><br><span class="line">    Do work: 1: Me, Cat</span><br><span class="line">  section Go home</span><br><span class="line">    Go downstairs: 5: Me</span><br><span class="line">    Sit down: 3: Me</span><br></pre></td></tr></table></figure><h3 id="视频2"><a href="#视频2" class="headerlink" title="视频2"></a>视频2</h3><video id="video" controls="" preload="none"  poster="https://wenney.com/upload/2022/05/bbc.png">      <source id="mp4" src="/video/ake.mp4" type="video/mp4"/>]]></content>
    
    
      
      
    <summary type="html">&lt;h3 id=&quot;1、表情符号&quot;&gt;&lt;a href=&quot;#1、表情符号&quot; class=&quot;headerlink&quot; title=&quot;1、表情符号&quot;&gt;&lt;/a&gt;1、表情符号&lt;/h3&gt;&lt;p&gt;&lt;a href=&quot;https://www.webfx.com/tools/emoji-cheat-sheet</summary>
      
    
    
    
    <category term="Linux" scheme="https://benlogs.com/categories/Linux/"/>
    
    
  </entry>
  
  <entry>
    <title>如何离线升级openssh和openssl</title>
    <link href="https://benlogs.com/2022/0828/%E7%A6%BB%E7%BA%BF%E5%8D%87%E7%BA%A7opensshopenssl/"/>
    <id>https://benlogs.com/2022/0828/%E7%A6%BB%E7%BA%BF%E5%8D%87%E7%BA%A7opensshopenssl/</id>
    <published>2022-08-28T10:30:00.000Z</published>
    <updated>2022-09-02T06:39:26.093Z</updated>
    
    <content type="html"><![CDATA[<h1 id="如何离线升级openssh和openssl"><a href="#如何离线升级openssh和openssl" class="headerlink" title="如何离线升级openssh和openssl"></a>如何离线升级openssh和openssl</h1><h3 id="1、环境检查"><a href="#1、环境检查" class="headerlink" title="1、环境检查"></a>1、环境检查</h3><p><img src="http://www.smartwirecom.net/upload/img/upload/2021/11/image-20211120235204382.png" class="lazyload" data-srcset="http://www.smartwirecom.net/upload/img/upload/2021/11/image-20211120235204382.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20211120235204382"></p><p>先确保你的服务器上已经有gcc，gcc-c++。这两个是编译工具。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rpm -qa |grep gcc</span><br></pre></td></tr></table></figure><p><img src="http://www.smartwirecom.net/upload/img/upload/2021/11/image-20211120235224223.png" class="lazyload" data-srcset="http://www.smartwirecom.net/upload/img/upload/2021/11/image-20211120235224223.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20211120235224223"></p><p>缺少</p><p><img src="http://www.smartwirecom.net/upload/img/upload/2021/11/image-20211120235252329.png" class="lazyload" data-srcset="http://www.smartwirecom.net/upload/img/upload/2021/11/image-20211120235252329.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20211120235252329"></p><p>正常应该是这样</p><p><strong>缺少则安装gcc等编译环境</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#把相关的rpm包全部放到gcc文件夹</span></span><br><span class="line"><span class="comment">#进入gcc文件夹，忽略依赖安装</span></span><br><span class="line">rpm -Uvh --force --nodeps *.rpm</span><br></pre></td></tr></table></figure><p><img src="http://www.smartwirecom.net/upload/img/upload/2021/11/image-20211120235530863.png" class="lazyload" data-srcset="http://www.smartwirecom.net/upload/img/upload/2021/11/image-20211120235530863.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20211120235530863"></p><h3 id="2、编译安装openssl"><a href="#2、编译安装openssl" class="headerlink" title="2、编译安装openssl"></a>2、编译安装openssl</h3><p>下载最新版：<a href="https://mirrors.cloud.tencent.com/openssl/source/">https://mirrors.cloud.tencent.com/openssl/source/</a></p><p><img src="http://www.smartwirecom.net/upload/img/upload/2021/11/image-20211120235556490.png" class="lazyload" data-srcset="http://www.smartwirecom.net/upload/img/upload/2021/11/image-20211120235556490.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20211120235556490"></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#备份旧版</span></span><br><span class="line"><span class="built_in">mv</span> /usr/lib64/libcrypto.so.1.0.2k /usr/lib64/libcrypto.so.1.0.2k_bak </span><br><span class="line"><span class="built_in">mv</span> /usr/lib64/libssl.so.1.0.2k /usr/lib64/libssl.so.1.0.2k_bak </span><br><span class="line"><span class="comment">#解压</span></span><br><span class="line">tar -zxvf openssl-1.0.2k.tar.gz</span><br><span class="line"><span class="built_in">cd</span> openssl-1.0.2k</span><br><span class="line"><span class="comment">#添加openssl配置</span></span><br><span class="line">./config --prefix=/usr/local/openssl</span><br><span class="line"><span class="comment">#编译</span></span><br><span class="line">make</span><br><span class="line"><span class="comment">#卸载旧版本</span></span><br><span class="line"><span class="keyword">for</span>  i  <span class="keyword">in</span>  $(rpm  -qa |grep  openssl);<span class="keyword">do</span>  rpm  -e  <span class="variable">$i</span> --nodeps  ;<span class="keyword">done</span></span><br><span class="line"><span class="comment">#安装</span></span><br><span class="line">make install</span><br><span class="line"><span class="comment">#配置相关软链</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;/usr/local/openssl/lib&quot;</span> &gt;&gt; /etc/ld.so.conf</span><br><span class="line">ldconfig</span><br><span class="line"><span class="built_in">cp</span> /usr/local/openssl/lib/libssl.so.1.1 /lib64/libssl.so.1.1</span><br><span class="line"><span class="built_in">cp</span> -f /usr/local/openssl/lib/libssl.so.1.1 /usr/lib64/libssl.so.1.1</span><br><span class="line"><span class="built_in">cp</span> /usr/local/openssl/lib/libcrypto.so.1.1 /usr/lib64</span><br><span class="line"><span class="built_in">ln</span> -sf /usr/lib64/libcrypto.so.1.1 /usr/lib64/libcrypto.so.10</span><br><span class="line"><span class="built_in">ln</span> -sf /usr/lib64/libcrypto.so.1.1 /lib64/libcrypto.so.10</span><br><span class="line"><span class="built_in">ln</span> -sf /usr/lib64/libcrypto.so.1.1 /usr/lib64/libcrypto.so</span><br><span class="line"><span class="built_in">ln</span> -sf /usr/lib64/libssl.so.1.1 /usr/lib64/libssl.so.10</span><br><span class="line"><span class="built_in">ln</span> -sf /usr/lib64/libssl.so.1.1 /usr/lib64/libssl.so</span><br><span class="line"><span class="built_in">ln</span> -sf /usr/local/openssl/bin/openssl /usr/bin/openssl</span><br><span class="line"><span class="built_in">ln</span> -sf /usr/local/openssl/include/openssl /usr/include/openssl</span><br><span class="line">openssl version -a</span><br><span class="line"><span class="comment">#修改1.0版软链</span></span><br><span class="line"><span class="built_in">mv</span> /usr/lib64/libcrypto.so.1.0.2k_bak /usr/lib64/libcrypto.so.1.0.2k</span><br><span class="line"><span class="built_in">ln</span> -fs /usr/lib64/libcrypto.so.1.0.2k /usr/lib64/libcrypto.so.10</span><br><span class="line"><span class="built_in">mv</span> /usr/lib64/libssl.so.1.0.2k_bak /usr/lib64/libssl.so.1.0.2k</span><br><span class="line"><span class="built_in">ln</span> -sf /usr/lib64/libssl.so.1.0.2k /usr/lib64/libssl.so.10</span><br></pre></td></tr></table></figure><h3 id="3、编译安装openssh"><a href="#3、编译安装openssh" class="headerlink" title="3、编译安装openssh"></a>3、编译安装openssh</h3><p>下载最新版：<a href="https://cdn.openbsd.org/pub/OpenBSD/OpenSSH/portable/">https://cdn.openbsd.org/pub/OpenBSD/OpenSSH/portable/</a></p><p><img src="http://www.smartwirecom.net/upload/img/upload/2021/11/image-20211120235616921.png" class="lazyload" data-srcset="http://www.smartwirecom.net/upload/img/upload/2021/11/image-20211120235616921.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20211120235616921"></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#进入openssh文件夹，并配置</span></span><br><span class="line">./configure --prefix=/usr --sysconfdir=/etc/ssh  --with-ssl-dir=/usr/local/openssl</span><br><span class="line"><span class="comment">#执行make</span></span><br><span class="line">make</span><br><span class="line"></span><br><span class="line"><span class="comment">#卸载 旧版本的openssh</span></span><br><span class="line"><span class="keyword">for</span>  i  <span class="keyword">in</span>  $(rpm  -qa  |grep  openssh);<span class="keyword">do</span>  rpm  -e  <span class="variable">$i</span>  --nodeps ;<span class="keyword">done</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#安装新版本openssh</span></span><br><span class="line">sudo make install</span><br><span class="line"></span><br><span class="line"><span class="comment">#查看新版的本号</span></span><br><span class="line">ssh -V</span><br><span class="line"></span><br><span class="line">// 在使用ssh登陆试试</span><br><span class="line">sudo <span class="built_in">cp</span> contrib/redhat/sshd.init /etc/init.d/sshd</span><br><span class="line"></span><br><span class="line"><span class="comment">#加入开机启动</span></span><br><span class="line">sudo chkconfig --add sshd</span><br><span class="line">sudo  chkconfig sshd on</span><br><span class="line"></span><br><span class="line"><span class="comment"># 修改配置 PermitRootLogin yes</span></span><br><span class="line">sudo vim /etc/ssh/sshd_config</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;PermitRootLogin yes&quot;</span> &gt;&gt; /etc/ssh/sshd_config</span><br><span class="line"></span><br><span class="line">// 重启服务</span><br><span class="line">sudo service sshd restart</span><br></pre></td></tr></table></figure><p><img src="http://www.smartwirecom.net/upload/img/upload/2021/11/image-20211120235714131.png" class="lazyload" data-srcset="http://www.smartwirecom.net/upload/img/upload/2021/11/image-20211120235714131.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20211120235714131"></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">chmod</span> 600 /etc/ssh/ssh_host_rsa_key</span><br><span class="line"><span class="built_in">chmod</span> 600 /etc/ssh/ssh_host_ecdsa_key</span><br><span class="line"><span class="built_in">chmod</span> 600 /etc/ssh/ssh_host_ed25519_key</span><br></pre></td></tr></table></figure><h3 id="4、升级后的问题"><a href="#4、升级后的问题" class="headerlink" title="4、升级后的问题"></a>4、升级后的问题</h3><h5 id="1）无法登陆ssh"><a href="#1）无法登陆ssh" class="headerlink" title="1）无法登陆ssh"></a>1）无法登陆ssh</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">临时关闭 setenforce 0 </span><br><span class="line"><span class="comment">#设置SELinux 成为permissive模式 setenforce 1 设置SELinux 成为enforcing模式 修改配置文件需要重启服务器 修改/etc/selinux/config 文件，将SELINUX=enforcing改为SELINUX=disabled</span></span><br></pre></td></tr></table></figure><h5 id="2）docker网络异常"><a href="#2）docker网络异常" class="headerlink" title="2）docker网络异常"></a>2）docker网络异常</h5><p>重启docker服务</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart docker</span><br></pre></td></tr></table></figure><h5 id="3）Sftp账号异常"><a href="#3）Sftp账号异常" class="headerlink" title="3）Sftp账号异常"></a>3）Sftp账号异常</h5><p>因为&#x2F;etc&#x2F;ssh&#x2F;sshd_config文件更新后为全新文件，相关的配置也会被修改。需按照升级前的配置修改。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;如何离线升级openssh和openssl&quot;&gt;&lt;a href=&quot;#如何离线升级openssh和openssl&quot; class=&quot;headerlink&quot; title=&quot;如何离线升级openssh和openssl&quot;&gt;&lt;/a&gt;如何离线升级openssh和openssl&lt;/</summary>
      
    
    
    
    <category term="Linux" scheme="https://benlogs.com/categories/Linux/"/>
    
    
    <category term="gcc" scheme="https://benlogs.com/tags/gcc/"/>
    
    <category term="ssh" scheme="https://benlogs.com/tags/ssh/"/>
    
    <category term="ssl" scheme="https://benlogs.com/tags/ssl/"/>
    
  </entry>
  
</feed>
